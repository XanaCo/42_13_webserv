<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>METHOD TESTING</title>
	<link rel="stylesheet" href="../css/style.css" />
	<link rel="icon" type="image/png" href="../img/LOGO_w.png" /> 
</head>

<body>

	<header>
		<h1>Method Testing</h1>
	</header>

	<div id ="TestMethods">

		
		<form id="postForm">
			<h3>
				<label for="corpsRequete">Corps de la requête POST :</label>
			</h3>
			<textarea id="corpsRequete" name="corpsRequete"></textarea>
			<h2>
				<button type="button" onclick="sendPostRequest()">
					<span class="h2">POST</span>
				</button>
			</h2>
		</form>
		
		<script>
			function sendPostRequest() {
				var xhr = new XMLHttpRequest();
				var url = "/testFiles/fileFolder/test";
				var corpsRequete = document.getElementById("corpsRequete").value;
				
				// Construire le corps de la requête POST
				var requestBody = "corpsRequete=" + encodeURIComponent(corpsRequete);
				
				xhr.open("POST", url, true);
				xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
				xhr.onreadystatechange = function () {
					if (xhr.readyState == 4 && xhr.status == 200) {
						// Gestion de la réponse si nécessaire
						console.log(xhr.responseText);
					}
				};
				
				xhr.send(requestBody);
			}
		</script>
	
		<form action="/testFiles/fileFolder/test" method="get">
				<a href="/testFiles/fileFolder/test" title="GET"><span class="h2">GET</span></a>
		</form>

		<form id="deleteForm">
			<h2>
				<button type="button" onclick="sendDeleteRequest()">
					<span class="h2">DELETE</span>
				</button>
			</h2>
		</form>
	
		<script>
			function sendDeleteRequest() {
				var xhr = new XMLHttpRequest();
				var url = "/testFiles/fileFolder/test";
	
				xhr.open("DELETE", url, true);
				xhr.onreadystatechange = function () {
					if (xhr.readyState == 4 && xhr.status == 200) {
						// Gestion de la réponse si nécessaire
						console.log(xhr.responseText);
					}
				};
	
				xhr.send();
			}
		</script>

		<form action="/testFiles/fileFolder/test" method="get">
			<a href="/nothing" title="GET"><span class="h2">UNKNOWN</span></a>
		</form>

    <footer>
        <p>© 2024 Le crabe, la pieuvre, le guepard. Tous droits réservés.</p>
    </footer>

</body>
</html>